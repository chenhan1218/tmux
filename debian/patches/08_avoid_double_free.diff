Avoid double-freeing pane bufferevent when destroying panes.
---
 server-fn.c |    8 +++++---
 1 file changed, 5 insertions(+), 3 deletions(-)

--- a/server-fn.c
+++ b/server-fn.c
@@ -334,9 +334,11 @@
 {
 	struct window	*w = wp->window;
 
-	close(wp->fd);
-	bufferevent_free(wp->event);
-	wp->fd = -1;
+	if (wp->fd != -1) {
+		close(wp->fd);
+		bufferevent_free(wp->event);
+		wp->fd = -1;
+	}
 
 	if (options_get_number(&w->options, "remain-on-exit"))
 		return;
